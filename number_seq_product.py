import itertools

str = '3456789abc12'
lstr = list(str)
a = {}
j = 1
for i in str:
    a[i] = j
    j = j+1

nums = ['3', '4', '5', '7', '8', '9', 'a', 'b', '1', '2', 'k']
nums_len = len(nums)


def number_check(n):
    i = len(n)

    if 'k' in n:
        j = 0
        d = 0
        while j < i-1:
            b = n[j]
            c = n[j+1]
            if b == "k":
                if j == 0:
                    j += 1
                    continue
                else:
                    d += 1
                    j += 1
            elif c == "k":
                tmp = lstr.index(b)
                if len(lstr)-1 != tmp:
                    n[j+1] = lstr[tmp+1]
                    j += 1
                    continue
                else:
                    n[j+1] = '2'
                    j += 1
                    continue
            else:
                if int(a.get(b))+1 == int(a.get(c)):
                    j += 1
                else:
                    return False
        return True

    else:
        j = 0
        while j < i-1:
            b = n[j]
            c = n[j+1]
            if int(a.get(b))+1 == int(a.get(c)):
                j += 1
            else:
                return False
        return True


for i in range(3, nums_len+1, 1):
    print(">>> ", i, "자리")

    ex_2 = itertools.permutations(nums, i)
    prod = list(ex_2)

    for j in prod:
        test = number_check(list(j))
        if test:
            print("+", j)


"""
*** result ***
>>>  3 자리
+ ('3', '4', '5')
+ ('3', '4', 'k')
+ ('3', 'k', '5')
+ ('4', '5', 'k')
+ ('5', 'k', '7')
+ ('7', '8', '9')
+ ('7', '8', 'k')
+ ('7', 'k', '9')
+ ('8', '9', 'a')
+ ('8', '9', 'k')
+ ('8', 'k', 'a')
+ ('9', 'a', 'b')
+ ('9', 'a', 'k')
+ ('9', 'k', 'b')
+ ('a', 'b', 'k')
+ ('b', 'k', '1')
+ ('1', '2', 'k')
+ ('k', '3', '4')
+ ('k', '4', '5')
+ ('k', '7', '8')
+ ('k', '8', '9')
+ ('k', '9', 'a')
+ ('k', 'a', 'b')
+ ('k', '1', '2')
>>>  4 자리
+ ('3', '4', '5', 'k')
+ ('4', '5', 'k', '7')
+ ('5', 'k', '7', '8')
+ ('7', '8', '9', 'a')
+ ('7', '8', '9', 'k')
+ ('7', '8', 'k', 'a')
+ ('7', 'k', '9', 'a')
+ ('8', '9', 'a', 'b')
+ ('8', '9', 'a', 'k')
+ ('8', '9', 'k', 'b')
+ ('8', 'k', 'a', 'b')
+ ('9', 'a', 'b', 'k')
+ ('a', 'b', 'k', '1')
+ ('b', 'k', '1', '2')
+ ('k', '3', '4', '5')
+ ('k', '7', '8', '9')
+ ('k', '8', '9', 'a')
+ ('k', '9', 'a', 'b')
>>>  5 자리
+ ('3', '4', '5', 'k', '7')
+ ('4', '5', 'k', '7', '8')
+ ('5', 'k', '7', '8', '9')
+ ('7', '8', '9', 'a', 'b')
+ ('7', '8', '9', 'a', 'k')
+ ('7', '8', '9', 'k', 'b')
+ ('7', '8', 'k', 'a', 'b')
+ ('7', 'k', '9', 'a', 'b')
+ ('8', '9', 'a', 'b', 'k')
+ ('9', 'a', 'b', 'k', '1')
+ ('a', 'b', 'k', '1', '2')
+ ('k', '7', '8', '9', 'a')
+ ('k', '8', '9', 'a', 'b')
>>>  6 자리
+ ('3', '4', '5', 'k', '7', '8')
+ ('4', '5', 'k', '7', '8', '9')
+ ('5', 'k', '7', '8', '9', 'a')
+ ('7', '8', '9', 'a', 'b', 'k')
+ ('8', '9', 'a', 'b', 'k', '1')
+ ('9', 'a', 'b', 'k', '1', '2')
+ ('k', '7', '8', '9', 'a', 'b')
>>>  7 자리
+ ('3', '4', '5', 'k', '7', '8', '9')
+ ('4', '5', 'k', '7', '8', '9', 'a')
+ ('5', 'k', '7', '8', '9', 'a', 'b')
+ ('7', '8', '9', 'a', 'b', 'k', '1')
+ ('8', '9', 'a', 'b', 'k', '1', '2')
>>>  8 자리
+ ('3', '4', '5', 'k', '7', '8', '9', 'a')
+ ('4', '5', 'k', '7', '8', '9', 'a', 'b')
+ ('7', '8', '9', 'a', 'b', 'k', '1', '2')
>>>  9 자리
+ ('3', '4', '5', 'k', '7', '8', '9', 'a', 'b')
"""
